<!DOCTYPE html>
<html lang="en" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>

    <meta charset="UTF-8">
    <title>Электронная библиотека ReaDream</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="icon" type="image/png" sizes="16x16" href="/image/rdLib.jpg">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="/css/biblio.css"/>

</head>
<body>
<div th:replace="~{fragments/header-fragment :: nav-menu}"></div>
<section class = "flex-container">
    <div class="criteria">
        <div class = "bar">
            <ul class = "combo" style = "width: 1460px;height: 60px;">
                <select>
                    <option value="0">Авторы</option>
                    <option th:each="author : ${authors}" th:text="${author.authorLastName} + ' ' + ${author.getAuthorName()}" th:value="${author.id}"></option>
                </select>
                <select>
                    <option value="0">Жанры</option>
                    <option th:each="genre : ${genres}" th:text="${genre.genreName}" th:value="${genre.id}"></option>
                </select>
                <select>
                    <option value="0">Издатели</option>
                    <option th:each="publisher : ${publishers}" th:text="${publisher.publisherName}" th:value="${publisher.id}"></option>
                </select>
                <input class="input-date" type="date" placeholder="Начальная дата">
                <input class="input-date" type="date" placeholder="Конечная дата">
            </ul>
        </div>
        <div th:replace="~{fragments/search-input-fragment}"></div>
</section>

<section class = "flex-container">
    <div class="book-bg" th:each="book : ${books}">
        <ul class="book" style="margin-left: 0px; margin-right: 0px;">
            <img class="book-img" th:src="${book.img}">
            <li style="margin-right: 0px;">
                <div class="name-book"><a th:href="@{/book/{bookId}(bookId=${book.id})}" th:text="${book.bookName}"></a></div>
                <div class="description-book"><span  th:text="${book.description}"></span></div>
                <div sec:authorize="isAuthenticated()" th:if="${isActiveStat == true}" class="btn-book">
                    <a th:href="@{/books/add/{bookId}(bookId=${book.id})}"
                       class="btn__menu">Забронировать
                    </a></div>
            </li>
        </ul>
    </div>
</section>
<div class="pages" align="center">
    <span>Всего элементов: [[${totalItems}]] - Страница [[${currentPage}]] из [[${totalPages}]]</span>
    &nbsp;
    <div class="row center">
        <div class="col-1" th:each="i : ${#numbers.sequence(1, totalPages)}">
            <span class="page-digits-bg" th:unless="${i == currentPage}">[[${i}]]</span>
            <a class="page-digits-bg-link" th:if="${i != currentPage}" th:href="@{'/catalog/' + ${i}}">[[${i}]]</a>
        </div>
    </div>
</div>
</body>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<script src="/js/search.js"></script>
<script src="/js/filter.js"></script>
</html>